(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[72],{320:function(e,n,t){"use strict";t.r(n),t.d(n,"site",(function(){return l}));var r=t(52),a=t(484),i=t(212);t.d(n,"MasterPageTpaPropsCacheSymbol",(function(){return i.a})),t.d(n,"TpaSrcBuilderSymbol",(function(){return i.c}));var o=t(485),u=t(486);t.d(n,"TpaHandlersManagerSymbol",(function(){return i.b})),t.d(n,"name",(function(){return i.d}));var c=t(397);for(var d in c)["default","site","TpaHandlersManagerSymbol","name","MasterPageTpaPropsCacheSymbol","TpaSrcBuilderSymbol"].indexOf(d)<0&&function(e){t.d(n,e,(function(){return c[e]}))}(d);var l=function(e){e(r.a.AppDidMountHandler).to(a.a),e(i.a).to(o.a),e(i.c).to(u.a)}},397:function(e,n){},453:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(0),a={buildRuntimeCompId:function(e,n){return e+"_rtby_"+n},isRuntimeCompId:function(e){return e.split("_rtby_").length>1},getOriginCompId:function(e){var n=Object(r.e)(e.split("_rtby_"),2),t=n[0];return n[1]||t}}},458:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(0),a=function(e,n){var t=e.split("/"),a=t.indexOf(n||"");return a<0||t[a]!==n?null:Object(r.e)(t.splice(a)).slice(1)}},484:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(0),a=t(7),i=t(302),o=t(35),u=t(212),c=t(235),d=t(453),l=t(140),s=function(e){if(e.data)try{return JSON.parse(e.data)}catch(e){}return{}},p=["getWixUpgradeUrl","stylesReady","getViewModeInternal","setHelpArticle"],f=Object(a.h)([c.a,o.a,i.c,Object(a.g)(l.a)],(function(e,n,t,a){var i={},o=function(e){return Object(r.b)(void 0,void 0,Promise,(function(){return Object(r.d)(this,(function(t){switch(t.label){case 0:return[4,n(e)];case 1:return[2,t.sent().getAllImplementersOnPageOf(u.b)[0]]}}))}))};return{appDidMount:function(){e.addWindowMessageHandler({canHandleEvent:function(e){return!!(e.source&&(n=s(e),n&&["TPA","TPA2"].includes(n.intent)));var n},handleEvent:function(e){return Object(r.b)(this,void 0,void 0,(function(){var n,u,c,l,f;return Object(r.d)(this,(function(r){switch(r.label){case 0:return n=s(e),u=n.type,c=n.callId,l=n.compId,p.includes(u)?[2]:(f=function(e){var n=e.compId;if(!n)return null;if(n.startsWith("tpaWorker_"))return"masterPage";var r=d.a.getOriginCompId(n);if(r in i)return i[r];var a=t.getContextIdOfCompId(r);return a&&(i[r]=a),a}(n),a&&a.tpa.addMessage({msg:n,compId:l,contextId:f}),f?[4,o(f)]:(console.error("TPA handler message caller does not belong to any page",{type:u,callId:c,compId:l}),[2]));case 1:return r.sent().handleMessage(e.source,n).catch((function(e){console.error("TpaHandlerError",u,f,l,e)})),[2]}}))}))}})}}}))},485:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var r=t(8),a=t.n(r),i=t(7),o=t(302),u=t(208),c=Object(i.h)([o.b,u.a],(function(e,n){var t={};return{cacheProps:function(n){var r=a.a.omitBy(e.get(n),a.a.isFunction);t[n]=a.a.isEmpty(r)?null:r},getCachedProps:function(e){var r,a,i,o,u=t[e];if(u)return(null===(a=null===(r=n.getCurrentRouteInfo())||void 0===r?void 0:r.dynamicRouteData)||void 0===a?void 0:a.publicData)!==(null===(o=null===(i=n.getPreviousRouterInfo())||void 0===i?void 0:i.dynamicRouteData)||void 0===o?void 0:o.publicData)&&delete u.src,u}}}))},486:function(e,n,t){"use strict";t.d(n,"a",(function(){return h}));var r=t(0),a=t(7),i=t(302),o=t(27),u=t(40),c=t(208),d=t(303),l=t(296),s=t(212),p=t(19),f=t(24),g=t(18),v=t(8),m=t.n(v),b=t(139),y=t(458),I=function(e){var n,t=e.getCurrentConsentPolicy();return(n=t).defaultPolicy&&m.a.every(n.policy)||!e._getConsentPolicyHeader()["consent-policy"]?void 0:decodeURIComponent(e._getConsentPolicyHeader()["consent-policy"])},h=Object(a.h)([i.b,Object(a.f)(o.e,s.d),p.b,f.a,u.a,g.a,c.a,d.a,l.a,Object(a.g)(b.a)],(function(e,n,t,a,i,o,u,c,d,l){var s=n.widgetsClientSpecMapData,p=n.siteRevision,f=n.viewMode,g=n.appSectionParams,v=n.externalBaseUrl,b=n.requestUrl,h=n.extras,O=n.deviceType,P=n.tpaDebugParams,C=n.locale,w=n.timeZone,j=function(){return i?i.location.href:b},R=function(e,n,t){var a=Boolean(t.tpaPageUri&&!m.a.isNil(n)&&n===t.tpaApplicationId),i=Object(r.e)(j().replace(v,"").split("?"),1)[0],o=a&&Object(y.a)(i,t.tpaPageUri);return o?function(e,n){if(0===e.length)return n;var t=e.join("/"),r=new URL(n);return r.pathname+="/"+t,r.href}(o,e):e};return{buildSrc:function(e,n,c,v,b){var y,S,_;void 0===b&&(b={});var D=m.a.merge({tpaInnerRouteConfig:null,extraQueryParams:{},appDefinitionId:""},b),x=c.widgetId,M=c.width,T=c.height,N=c.externalId,U=c.templateId,A=s[x]||{},H=A.applicationId,L=A.appDefinitionId||D.appDefinitionId,B=null===(y=u.getCurrentRouteInfo().dynamicRouteData)||void 0===y?void 0:y.publicData,E=U||e,J=e,W=JSON.stringify(o.getCommonConfig()),k=Object(r.a)(Object(r.a)({instance:t.getAppInstanceByAppDefId(L),pageId:n,compId:E,viewerCompId:J,siteRevision:""+p,viewMode:f,deviceType:O,externalId:N,locale:C,commonConfig:W,tz:w,vsi:d.viewerSessionId,"consent-policy":I(a),currency:h.currency,width:m.a.isNumber(M)?""+M:null,height:m.a.isNumber(T)?""+T:null},function(){if(i){var e=new URL(j()).searchParams.get("appSectionParams");return JSON.parse(decodeURIComponent(e||"{}"))||{}}return g}()),D.extraQueryParams);l&&(k.lang=null===(S=l.currentLanguage)||void 0===S?void 0:S.languageCode,k.dateNumberFormat=null===(_=l.currentLanguage)||void 0===_?void 0:_.locale,m.a.isNil(l.isOriginalLanguage)||(k.isPrimaryLanguage=""+l.isOriginalLanguage)),B&&(k.routerData=JSON.stringify(B)),m.a.entries(P).forEach((function(e){var n=Object(r.e)(e,2),t=n[0],a=n[1];m.a.isNil(a)||(k[t]=a)}));var F=D.tpaInnerRouteConfig?R(v,H,D.tpaInnerRouteConfig):v,Q=new URL(F);return m.a.entries(k).forEach((function(e){var n=Object(r.e)(e,2),t=n[0],a=n[1];m.a.isNil(a)||Q.searchParams.set(t,a)})),Q.href}}}))}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/tpaCommons.95d016ec.chunk.min.js.map